<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>

<!--
Crear un formulario con tres campos:
- Nombre completo
- Correo electrónico
- Contraseña
- Confirmar Contraseña
-->

<!-- el atributo action es para enviar
los datos del formulario a otro lugar
donde serán procesados, en este caso
aún no sé a donde van a ser enviados
por eso pongo el #
-->
<div id="my_application">
    <h1>Las tareas del futuro Frontend</h1>

    <h2>Crea tu cuenta aquí!</h2>

    <form action="#" autocomplete="off">
        <label for="full_name">Nombre completo</label>
        <input type="text"
               id="full_name"
               placeholder="Ingres su nombre completo"
               v-model="fullName"
        >

        <br><br>

        <label for="email">Correo Electrónico</label>
        <input type="email"
               id="email"
               placeholder="Ingrese su correo electrónico"
               v-model="email"
        >

        <br><br>

        <label for="password">Contraseña</label>
        <input type="password"
               id="password"
               ref="password"
               placeholder="Ingrese contraseña"
               v-model="password"
        >

        <br><br>

        <button type="button" v-on:click="showPassword()">
            <span v-if="shownPasswords">Ocultar</span>
            <span v-else>Mostrar</span>
            contraseña
        </button>

        <br><br>

        <label for="confirm_password">Confirmar Contraseña</label>
        <input type="password"
               id="confirm_password"
               ref="confirm_password"
               placeholder="De nuevo contraseña"
               v-model="confirmPassword"
        >

        <span v-if="password !== confirmPassword && confirmPassword !== ''">Las contraseñas no coinciden</span>

        <br><br>

        <button type="submit" v-bind:disabled="password !== confirmPassword">
            Registrarme
        </button>
    </form>
</div>

<script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>
<!--
- Botón que permite mostrar la contraseña en los dos campos,
al momento de accionar, debe cambiar el texto del botón por ocultar contraseña
- - 1. Mostrar las contraseñas
- - - 1. Identificar cuáles son los elementos que voy a cambiar
         a través del atributo ref que Vue me ofrece para
         obtener un elemento específico.
- - - 2. Cambiar el tipo de campo de type="password" a type="text"
         en cada uno de los elementos identificados



- - 2. Cambiar el texto de "Mostrar" a "Ocultar".
- y al momento de enviar el formulario, verifique que las contraseñas son iguales
-->
<script>
    // para crear una app en Vue debo hacerlo de la siguiente manera
    // Vue() es una función que recibe un parámetro (variable) de tipo objeto {}
    let app = new Vue({
        // uno de las propiedades necesarias para vue, es la propiedad "el"
        // "el" signifca el contexto de HTML donde se va a conectar la app de Vue

        // vamos a colocar el selector + el identificador del contenedor
        // donde se va a ejecutar Vue
        el: '#my_application',
        // data es mi modelo de datos de mi aplicación
        data: {
            shownPasswords: false,

            fullName: '',
            email: '',

            password: '',
            confirmPassword: '',
        },
        // las funcionalidades van dentro de la propiedad "methods"
        methods: {
            showPassword: function () {
                this.shownPasswords = !this.shownPasswords

                if (this.shownPasswords) {
                    this.$refs.password.type = 'text'
                    this.$refs.confirm_password.type = 'text'
                    return
                }

                this.$refs.password.type = 'password'
                this.$refs.confirm_password.type = 'password'
            },
            sendDataToBackend: function() {
                console.log("La información del usuario se envió al backend")
                console.log(this.fullName)
                console.log(this.email)
                console.log(this.password)
            }
        }
    })
</script>
</body>
</html>